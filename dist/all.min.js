!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash"),require("objectpath")):"function"==typeof define&&define.amd?define("cn-flex-form",["lodash","objectpath"],n):"object"==typeof exports?exports["cn-flex-form"]=n(require("lodash"),require("objectpath")):e["cn-flex-form"]=n(e.lodash,e.objectpath)}(this,function(e,n){return function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(1),a=t(o),s=r(2),i=t(s),c=r(3),l=r(4),f=r(5),m=t(f),d=r(8),u=t(d),p=r(9),h=r(10),g=t(h),v=r(12),y=t(v),b=r(13),x=t(b);n.default=angular.module("cn.flex-form",["ui.router","schemaForm","ui.bootstrap.datetimepicker","cnTagsInput","cn.util"]).provider("cnFlexFormConfig",a.default).provider("cnFlexFormTypes",i.default).provider("cnFlexFormRoutes",c.cnFlexFormRoutesProvider).config(c.cnFlexFormRoutes).config(l.schemaFormConfig).run(l.addTemplates).provider("cnFlexFormService",m.default).provider("cnFlexFormModalLoaderService",u.default).factory("FlexFormModal",p.FlexFormModal).controller("FlexFormModalLoader",p.FlexFormModalLoader).directive("cnFlexForm",g.default).directive("cnFlexFormHeader",y.default).directive("ffValidate",x.default).name},function(e,n){"use strict";function r(){function e(e){r.push(e)}function n(e){"ngInject";function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(t({},e,n)).omit(r).omit(function(e){return _.isUndefined(e)||null===e}).value()}return{getStateParams:n,ignoreParams:r}}n.$inject=["$stateParams"];var r=["page","debug","sandbox","modal","modalId"];return{addIgnoreParam:e,$get:n}}Object.defineProperty(n,"__esModule",{value:!0});var t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};n.default=r},function(e,n){"use strict";function r(){function e(e){r.unshift(e)}function n(){function e(e){for(var n=0,t=r.length;n<t;n++)if(r[n].condition(e))return r[n].type;return e.type||e.schema&&e.schema.type}return{fieldTypeRegister:r,getFieldType:e}}var r=[{condition:function(e){return"hidden"===e.type},type:"hidden"},{condition:function(e){return e.type.includes("radios")},type:"cn-radios"},{condition:function(e){return e.type.includes("radiobuttons")},type:"cn-radiobuttons"},{condition:function(e){return e.type.includes("autocomplete")||e.titleMap||e.titleMapResolve||e.titleMapQuery},type:"cn-autocomplete"},{condition:function(e){return"cn-datetimepicker"===e.type||"datetime-local"===e.type||"time-minutes"===e.type},type:"cn-datetimepicker"},{condition:function(e){return"help"===e.type},type:"help"},{condition:function(e){return e.type.includes("display")},type:"cn-display"},{condition:function(e){return e.schema&&e.schema.format&&e.schema.format.includes("currency")},type:"cn-currency"},{condition:function(e){return e.schema&&"percentage"===e.schema.format},type:"cn-percentage"},{condition:function(e){return e.schema&&"url"===e.type},type:"cn-url"},{condition:function(e){return"toggle"===e.type||"boolean"===e.type},type:"cn-toggle"},{condition:function(e){return"creativeimage"===e.type},type:"cn-creativeimage"},{condition:function(e){return"facebookvideo"===e.type},type:"cn-facebookvideo"},{condition:function(e){return"mediaupload"===e.type},type:"cn-mediaupload"},{condition:function(e){return"csvupload"===e.type},type:"cn-csvupload"},{condition:function(e){return"reusable"===e.type},type:"cn-reusable"},{condition:function(e){return"table"===e.type},type:"cn-table"},{condition:function(e){return"array"===e.type},type:"array"},{condition:function(e){return"schedule"===e.type},type:"cn-schedule"},{condition:function(e){return e.schema&&"number"===e.schema.type},type:"cn-number"}];return{registerFieldType:e,$get:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},function(e,n){"use strict";function r(e){"ngInject";function n(){}function r(n){var r=n.permissions,t=n.name,a={controller:"FlexFormModalLoader",controllerAs:"vm",permissions:r};e.state(t+".page.modal",o({url:"/~:modal/:modalId"},a)).state(t+".page.modalParams",o({url:"/~:modal/:modalId/:restParams"},a))}return{addStates:r,$get:n}}function t(e){"ngInject";e.state("flex-form-sandbox",{url:"/flex-form/sandbox",controller:"FlexFormSandbox",controllerAs:"vm",templateUrl:"app/components/cn-flex-form/sandbox.html"})}r.$inject=["$stateProvider"],t.$inject=["$stateProvider"],Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};n.cnFlexFormRoutes=t,n.cnFlexFormRoutesProvider=r},function(e,n){"use strict";function r(e){"ngInject";tv4.addFormat({url:function(e){return _.isString(e)&&!/^(https?:\/\/.{2}|$)/.test(e)&&"invalid url"}});var n=["cn-fieldset","cn-toggle","cn-datetimepicker","cn-autocomplete","cn-autocomplete-detailed","cn-number","cn-currency","cn-url","cn-radios","cn-radiobuttons","cn-percentage","cn-display","cn-mediaupload","cn-csvupload","cn-reusable","cn-table","cn-creativeimage","cn-schedule","cn-facebookvideo"];_.each(n,function(n){e.registerField({type:n,templateUrl:"app/components/cn-flex-form/forms/"+n+".html"})})}function t(e){"ngInject";e.put("app/components/cn-flex-form/forms/cn-toggle.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n        <div class="clearfix">\n          <cn-toggle-switch\n            name="{{form.key.join(\'.\')}}"\n            class="pull-left"\n            ng-show="form.key"\n            ng-model-options="form.ngModelOptions"\n            ng-model="$$value$$"\n            sf-changed="form"\n            schema-validate="form"\n            on-value="form.onValue"\n            off-value="form.offValue"\n            ng-required="form.required"\n            read-only="form.readonly"\n            undefined-class="form.undefinedClass"/>\n          <span ng-show="form.onText && form.offText">\n            {{$$value$$ === form.onValue ? form.onText : form.offText}}\n          </span>\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-datetimepicker.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               for="{{form.key.join(\'.\')}}"\n               ng-show="showTitle()">{{form.title}}</label>\n        <cn-datetimepicker\n          ng-show="form.key"\n          ng-model="$$value$$"\n          ng-model-options="form.ngModelOptions"\n          is-disabled="form.readonly"\n          sf-changed="form"\n          schema-validate="form"\n          input-id="{{form.key.join(\'.\')}}"\n          min-date="form.minDate"\n          max-date="form.maxDate"\n          max-view="{{form.maxView}}"\n          default-time="form.defaultTime"\n          cn-date-required="form.required"\n          placeholder="{{form.placeholder}}"\n          model-type="{{form.schema.type}}"\n          model-formatter="form.modelFormatter"\n          model-parser="form.modelParser"\n          view-formatter="form.viewFormatter"\n          view-parser="form.viewParser"\n          format-string={{form.dateFormat}}\n          icon-class={{form.iconClass}}>\n        </cn-datetimepicker>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>');var n='\n        <tags-input\n          ng-show="form.key"\n          ng-model="$$value$$"\n          ng-model-options="form.ngModelOptions"\n          ng-disabled="form.readonly"\n          sf-changed="form"\n          schema-validate="form"\n          input-id="{{form.key.join(\'.\')}}"\n          display-property="{{form.displayProperty || \'name\'}}"\n          value-property="{{form.valueProperty}}"\n          placeholder="{{form.placeholder || \' \'}}"\n          clear-on-blur="true"\n          add-on-comma="false"\n          add-from-autocomplete-only="{{!form.allowNew}}"\n          on-before-tag-added="form.onAdd({value: $tag}, form, $event, $prev)"\n          on-init="form.onInit($tag, form, $event, $setter)"\n          model-type="{{form.getSchemaType()}}"\n          array-value-type="{{form.schema.items.type}}"\n          hide-tags="{{form.detailedList}}"\n          tags-style="{{form.selectionStyle}}"\n          required="{{form.required}}"\n          min-length="{{form.minLength}}"\n          allowed-tags-pattern=".*"\n          dropdown-icon="true"\n          item-formatter="form.itemFormatter"\n          min-tags="{{form.minItems || form.schema.minItems}}"\n          max-tags="{{form.maxItems || form.schema.maxItems || (form.getSchemaType() !== \'array\' ? 1 : 0)}}"\n          allow-bulk="{{form.bulkAdd}}"\n          bulk-delimiter="{{form.bulkDelimiter}}"\n          bulk-placeholder="{{form.bulkPlaceholder}}"\n          bulk-single-request="{{form.bulkSingleRequest}}"\n          sort-filtered-results="{{(form.titleMapResolve || form.titleMap) && !form.titleMapQuery}}"\n          show-clear-all="{{form.showClearAll}}"\n          show-clear-cache="{{form.showClearCache}}"\n          show-button="true">\n          <auto-complete\n            source="form.getTitleMap && form.getTitleMap() || form.titleQuery($query, options)"\n            skip-filtering="{{form.skipFiltering}}"\n            single-query="{{form.singleQuery}}"\n            debounce-delay="{{form.debounceDelay}}"\n            min-length="{{form.minLookup}}">\n          </auto-complete>\n        </tags-input>';e.put("app/components/cn-flex-form/forms/cn-autocomplete.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               for="{{form.key.join(\'.\')}}-input"\n               ng-show="showTitle()">{{form.title}}</label>\n        '+n+'\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-autocomplete-detailed.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               for="{{form.key.join(\'.\')}}-input"\n               ng-show="showTitle()">{{form.title}}</label>\n        <div sf-array="form">\n          <ol class="list-group cn-autocomplete-list"\n              ng-if="modelArray.length"\n              ng-model="modelArray">\n            <li class="list-group-item {{form.fieldHtmlClass}}"\n                ng-repeat="item in modelArray track by $index">\n              <button ng-hide="form.readonly || form.remove === null"\n                      ng-click="deleteFromArray($index)"\n                      type="button" class="close pull-right">\n                <span aria-hidden="true">&times;</span>\n              </button>\n              <sf-decorator form="copyWithIndex($index)"/>\n            </li>\n          </ol>\n        </div>\n        '+n+'\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-number.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key.join(\'.\')}}">{{form.title}}</label>\n        <div class="{{form.fieldClass}}">\n          <input class="form-control"\n                 cn-number\n                 ng-show="form.key"\n                 ng-model-options="form.ngModelOptions"\n                 ng-disabled="form.readonly"\n                 sf-changed="form"\n                 schema-validate="form"\n                 type="text"\n                 step="any"\n                 min="{{form.min}}"\n                 max="{{form.max}}"\n                 id="{{form.key.join(\'.\')}}"\n                 name="{{form.key.join(\'.\')}}"\n                 ng-model="$$value$$">\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-currency.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key.join(\'.\')}}">{{form.title}}</label>\n        <div class="{{form.fieldClass}} input-group">\n          <label class="input-group-addon"\n                 ng-disabled="form.readonly"\n                 for="{{form.key.join(\'.\')}}">$</label>\n          <input class="form-control"\n                 cn-currency-format="{{form.currencyFormat}}"\n                 cn-currency-placeholder="{{form.placeholder}}"\n                 ng-show="form.key"\n                 ng-model-options="form.ngModelOptions"\n                 ng-disabled="form.readonly"\n                 sf-changed="form"\n                 schema-validate="form"\n                 type="text"\n                 step="any"\n                 min="{{form.min}}"\n                 max="{{form.max}}"\n                 id="{{form.key.join(\'.\')}}"\n                 name="{{form.key.join(\'.\')}}"\n                 ng-model="$$value$$">\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-url.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key.join(\'.\')}}">{{form.title}}</label>\n        <input class="form-control"\n               placeholder="https://"\n               cn-url-format\n               ng-show="form.key"\n               ng-model-options="form.ngModelOptions"\n               ng-disabled="form.readonly"\n               sf-changed="form"\n               schema-validate="form"\n               type="text"\n               id="{{form.key.join(\'.\')}}"\n               name="{{form.key.join(\'.\')}}"\n               ng-model="$$value$$">\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-radios.html",'<div class="form-group {{form.htmlClass}}"\n            ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n         <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n         <div class="btn-group clearfix">\n           <label class="radio radio-block"\n                  ng-repeat="item in form.titleMap">\n             <input type="radio"\n                    sf-changed="form"\n                    ng-disabled="form.readonly"\n                    ng-model="$$value$$"\n                    ng-model-options="form.ngModelOptions"\n                    schema-validate="form"\n                    ff-validate="form"\n                    ng-value="item.value"\n                    name="{{form.key.join(\'.\')}}">\n             <span class="radio-block-icon" ng-if="item.iconClass || item.iconPath">\n               <i ng-if="item.iconClass" class="fa fa-{{item.iconClass}} fa-lg"></i>\n               <img ng-if="item.iconPath" class="custom" ng-src="{{item.iconPath}}"/>\n             </span>\n             <span ng-bind-html="item.name"></span>\n           </label>\n         </div>\n         <span class="help-block" sf-message="form.description"></span>\n       </div>'),e.put("app/components/cn-flex-form/forms/cn-radiobuttons.html",'\n      <div class="form-group schema-form-radiobuttons cn-radiobuttons {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n        <div class="btn-group clearfix">\n          <label class="btn btn-{{item.value}} {{form.btnClass}} {{item.value === $$value$$ ? \'active\' : \'\'}}"\n                 ng-repeat="item in form.titleMap">\n            <input type="radio"\n                   class="{{form.fieldHtmlClass}} hide"\n                   sf-changed="form"\n                   ng-disabled="form.readonly"\n                   ng-model="$$value$$"\n                   ng-model-options="form.ngModelOptions"\n                   schema-validate="form"\n                   ff-validate="form"\n                   ng-value="item.value"\n                   name="{{form.key.join(\'.\')}}">\n            <i class="fa fa-{{item.value}} fa-lg"></i>\n            <span ng-bind-html="item.name"></span>\n          </label>\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-percentage.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key && form.key[0]}}">{{form.title}}</label>\n        <div class="{{form.fieldClass}} input-group">\n          <input class="form-control"\n                 cn-ignore-wheel\n                 cn-percentage-format\n                 ng-show="form.key"\n                 ng-model-options="form.ngModelOptions"\n                 ng-disabled="form.readonly"\n                 sf-changed="form"\n                 schema-validate="form"\n                 type="number"\n                 step="any"\n                 min="{{form.min}}"\n                 max="{{form.max}}"\n                 id="{{form.key && form.key[0]}}"\n                 name="{{form.key && form.key[0]}}"\n                 ng-model="$$value$$">\n           <div class="input-group-addon"\n                  ng-disabled="form.readonly"\n                  for="{{form.key && form.key[0]}}">%</div>\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-display.html",'\n      <div class="form-group cn-display{{form.htmlClass}}">\n        <input ng-show="form.key"\n               class="form-control"\n               id="{{form.key.join(\'.\')}}"\n               name="{{form.key.join(\'.\')}}"\n               ng-disabled="true"\n               value="{{form.getDisplay(form.key, form.arrayIndex)}}">\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-fieldset.html",'\n      <fieldset\n        ng-disabled="form.readonly"\n        class="schema-form-fieldset {{form.htmlClass}}"\n        ng-class="{\'borderless\': form.pos === 0, \'notitle\': form.notitle || !form.title}">\n        <legend ng-hide="form.notitle"\n                ng-click="form.toggleCollapse(form)"\n                ng-class="{\'sr-only\': !showTitle(), collapsible: form.collapsible}"\n                ng-mouseenter="form.render = true">\n          <i ng-show="form.collapsible"\n             class="fa fa-caret-{{form.collapsed ? \'right\' : \'down\'}}"></i>\n          {{ form.title }}\n        </legend>\n        <div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div>\n        <div uib-collapse="form.collapsed">\n          <div ng-if="form.render">\n            <sf-decorator ng-repeat="item in form.items" form="item"/>\n          </div>\n        </div>\n      </fieldset>'),e.put("app/components/cn-flex-form/forms/cn-mediaupload.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key && form.key[0]}}">{{form.title}}</label>\n        <media-upload ng-model="$$value$$"\n                      cn-disabled="form.readonly"\n                      cn-file-type="form.fileType"\n                      cn-text-button="form.textButton"\n                      cn-upload-path="form.uploadPath"\n                      cn-data="form.data"\n                      cn-preview-path="form.previewPath"\n                      cn-model-value-key="form.modelValueKey"\n                      cn-existing-preview="form.existingPreview"\n                      cn-image-previews="form.data.imagePreviews"\n                      cn-key="form.key && form.key[0]"\n                      cn-form="form"\n                      ng-model-options="form.ngModelOptions"\n                      sf-changed="form"\n                      schema-validate="form"\n                      ff-form="form"\n                      class="clearfix">\n        </media-upload>\n        <span class="help-block" sf-message="form.description"></span>\n     </div>'),e.put("app/components/cn-flex-form/forms/cn-csvupload.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key && form.key[0]}}">{{form.title}}</label>\n        <csv-upload ng-model="$$value$$"\n                      cn-upload-path="form.uploadPath"\n                      ng-model-options="form.ngModelOptions"\n                      sf-changed="form"\n                      schema-validate="form"\n                      ff-form="form"\n                      class="clearfix">\n        </csv-upload>\n        <span class="help-block" sf-message="form.description"></span>\n     </div>'),e.put("app/components/cn-flex-form/forms/cn-reusable.html",'\n      <div class="form-group cn-reusable {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key.join(\'.\')}}">{{form.title}}</label>\n        <cn-select-or\n          ng-show="form.key"\n          select-from="form.library"\n          ng-model="$$value$$"\n          ng-model-options="form.ngModelOptions"\n          sf-changed="form"\n          schema-validate="form"\n          ff-form="form"\n          directiveId="form.directiveId"\n          item-template="form.itemTemplate"\n          toggle-text="form.toggleText"\n          ng-disabled="form.readonly"\n          view="form.view">\n          <sf-decorator ng-repeat="item in form.items" form="item"/>\n        </cn-select-or>\n        <p ng-if="form.loadMore && form.view === \'list\'">\n          <a ng-click="form.loadMore()"\n             class="btn btn-default btn-block">Load More</a>\n        </p>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-table.html",'\n      <div class="form-group cn-ff-table {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <h6>{{form.title}}</h6>\n        <div class="row">\n          <div ng-repeat="col in form.columns" class="{{col.columnWidth}}">\n            <p class="column-header">{{col.columnHeader}}</p>\n          </div>\n        </div>\n        <div class="row" ng-repeat="row in form.items">\n          <div ng-repeat="col in row.items" class="{{col.columnWidth}}">\n            <sf-decorator form="col"></sf-decorator>\n          </div>\n        </div>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>'),e.put("app/components/cn-flex-form/forms/cn-creativeimage.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key && form.key[0]}}">{{form.title}}</label>\n        <cn-creative-image ng-model="$$value$$"\n                      cn-disabled="form.readonly"\n                      cn-upload-path="form.uploadPath"\n                      cn-data="form.data"\n                      cn-preview-path="form.previewPath"\n                      cn-model-value-key="form.modelValueKey"\n                      cn-existing-preview="form.existingPreview"\n                      ng-model-options="form.ngModelOptions"\n                      cn-ng-model-key="form.ngModelKey"\n                      sf-changed="form"\n                      schema-validate="form"\n                      ff-form="form"\n                      class="clearfix">\n        </cn-creative-image>\n        <span class="help-block" sf-message="form.description"></span>\n     </div>'),e.put("app/components/cn-flex-form/forms/cn-schedule.html",'\n      <div class="form-group {{ form.htmlClass }}"\n           ng-class="{ \'has-error\': hasError(), \'has-success\': hasSuccess() }">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{ form.key.join(\'.\') }}">\n          {{ form.title }}\n        </label>\n        <cn-schedule form="form"\n                     ng-model="$$value$$">\n        </cn-schedule>\n        <span class="help-block" sf-message="form.description"></span>\n      </div>\n    '),e.put("app/components/cn-flex-form/forms/cn-facebookvideo.html",'\n      <div class="form-group {{form.htmlClass}}"\n           ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n        <label class="control-label"\n               ng-show="showTitle()"\n               for="{{form.key && form.key[0]}}">{{form.title}}</label>\n        <cn-facebook-video ng-model="$$value$$"\n                      cn-disabled="form.readonly"\n                      cn-upload-path="form.uploadPath"\n                      cn-data="form.data"\n                      cn-preview-path="form.previewPath"\n                      cn-model-value-key="form.modelValueKey"\n                      cn-existing-preview="form.existingPreview"\n                      ng-model-options="form.ngModelOptions"\n                      cn-video-key="form.videoKey"\n                      cn-thumbnail-key="form.thumbnailKey"\n                      cn-image-id-key="form.imageIdKey"\n                      sf-changed="form"\n                      schema-validate="form"\n                      ff-form="form"\n                      class="clearfix">\n        </cn-facebook-video>\n        <span class="help-block" sf-message="form.description"></span>\n     </div>')}r.$inject=["cnFlexFormServiceProvider"],t.$inject=["$templateCache"],Object.defineProperty(n,"__esModule",{value:!0}),n.schemaFormConfig=r,n.addTemplates=t},function(e,n,r){"use strict";function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}function a(e,n){"ngInject";function r(r){r.condition&&n.registerFieldType({condition:r.condition,type:r.type}),r.handler&&(m[r.type]=r.handler),r.templateUrl&&(e.addMapping("bootstrapDecorator",r.type,r.templateUrl),e.createDirective(r.type,r.templateUrl))}return{registerField:r,$get:s}}function s(e,n,r,a,s,u,p,h,g,v){"ngInject";function y(e){return l.find(an,e)}function b(e){var n=y(e);n&&(n.cleanup(),l.empty(n),l.remove(an,function(e){return e===n}))}function x(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length>1)var t=n[0],o=n[1],a=n[2];else var s=n[0],t=s.schema,o=s.model,a=s.config;var i=y(function(e){return e.model===o});if(i)return t&&i.compile(t,o,a),i;var c=new k(t,o,a);return an.push(c),c}function k(e,n,t){g.debug&&(window.services=an),this.arrayCopies={},this.arrayListeners={},this.dataCache={},this.defaults={},this.errors=[],this.events=[],this.formCache={},this.scopeCache={},this.listeners={},this.resolveRegister={},this.model=n,this.updates=0,this.skipDefault={};var o=t.getParams?t.getParams():{};this.params=r.getStateParams(o),this._=l,this.compile(e,n,t)}function w(e,n,r){var t=this;r&&r.getScope&&(t.scope=r.getScope()),t.schema=e,!t.schema.dateConverted&&Object.keys(t.schema.schema.properties||{}).length&&(l.each(t.schema.schema.properties,function(e){if("datetime-local"===e.format){var r=t.parseExpression(e.key,t.model).get();try{n[e.key]=h.convertToLocalTime(r)}catch(e){t.scope.$emit(v.notify,e)}}}),t.schema.dateConverted=!0),t.model=n,t.isCompiled()||(t.setupConfig(r),e.forms?l.each(e.forms,function(e){l.each(e.form,t.processField.bind(t))}):l.each(e.form,t.processField.bind(t)),t.initModelWatch(),t.initArrayCopyWatch(),t.isCompiled(!0)),t.broadcastErrors()}function F(e){var n=this;return e&&(n.schema.compiled=e),n.schema&&n.schema.compiled}function $(e){var n=this;e&&(e.formCtrl&&(n.formCtrl=e.formCtrl),e.updateSchema&&(n.updateSchema=e.updateSchema),e.getSchema&&(n.getSchemaForm=n.setupSchemaRefresh(e.getSchema))),n.getParamOverrides=e.getParams||l.noop}function C(e){var n=e.schema;e.getSchemaType=function(){return l.isArray(n.type)?l.first(n.type):n.type},e.type||(e.type=e.getSchemaType&&e.getSchemaType())}function S(e){var n=this,r=e.schema,t=e.default||r.default,o=n.getKey(e.key);if(n.skipDefault[o])return void delete n.skipDefault[o];if(e.condition){var a=Ze(e.condition,e.arrayIndex||o);if(!n.parseCondition(a))return}if(!l.isUndefined(t)){if(o.includes&&o.includes("[]"))return;var s=n.parseExpression(e.key,n.model),i=s.get();(l.isUndefined(i)||(l.has(n.defaults,o)?angular.equals(i,n.defaults[o]):l.isTrulyEmpty(i))&&!angular.equals(i,t))&&s.set(angular.copy(t))}n.defaults[o]=angular.copy(t),"url"!==r.format||e.validationMessage||(e.type||(e.type="cn-url"),e.validationMessage="Must be a valid url (https://...)")}function E(e){var n=this;e.type="cn-fieldset",e.items.forEach(n.processField.bind(n)),l.has(e,"pos")&&0===e.pos&&(e.htmlClass=(e.htmlClass||"")+" borderless"),e.collapsible?(e.toggleCollapse=function(e){e.collapsible&&(e.collapsed=!e.collapsed)},e.render=!e.collapsed):e.render=!0}function T(e,n){var r=this,t=a.getFieldType(e),o=m[t];l.isString(o)?r[o](e,n):l.isFunction(o)&&o.call(r,e,n)}function j(e){return l.reject(l.keys(e),function(e){return/^key$|^htmlClass$|^_/.test(e)})}function M(e,n){var r=this;angular.isDefined(n)&&(e.pos=n),e._ogKeys||(e._ogKeys=j(e));var t=r.getKey(e.key);if(t){r.addToFormCache(e,t);var o=r.getSchema(t);o&&(e.schema=o,o.description&&(e.description=o.description),"array"!==o.type||"showClearAll"in e||(e.showClearAll=!0)),r.processSchema(e)}r.processFieldProps(e),t&&(!function(e){l.find(r.errors,{key:e})&&(r.errors=l.reject(r.errors,{key:e}),r.scope.$broadcast("schemaForm.error."+e,"serverValidation",!0),r.scope.$broadcast("schemaForm.error."+e,"schemaForm",!0))}(Ge(t)),e.error&&(r.errors.push(r.buildError(e)),l.isEmpty(e.ngModelOptions)?e.ngModelOptions={allowInvalid:!0}:e.ngModelOptions.allowInvalid=!0))}function P(e,n){var r=this;d.forEach(function(t){var o=t.prop,a=t.handler;return l.has(e,o)&&a(e,r,n)})}function A(e){return l.isArray(e)&&(e=l.reduce(e,function(e,n){return/^(-?\d*)$/.test(n)?e+"["+n+"]":e+"."+n})),e}function D(e,n){var r=this;if(e){e=f.parse(r.getKey(e)),n=n||r.schema.schema.properties;for(var t=void 0,o=void 0;e.length>1;)o=e[1],/^-?\d*$/.test(o)?2===e.length?n=n[e.shift()]:(n=n[e.shift()].items.properties,e.shift()):n=n[e.shift()].properties;return t=e[0]||"items",n[t]}}function I(e){var n=this;return e=e.key?e:n.getFromFormCache(e),e&&(angular.isDefined(e.default)?e.default:e.schema&&e.schema.default);
}function _(e){for(var n=[],r=pe(e),t="";r;)/^-?\d+$/.test(r[1])||/^("|').*("|')$/.test(r[1])?(t=r[0],e=e.replace(r[0],"ff_replace_ff")):(n.push(r[1].replace(/ff_replace_ff/g,t)),t="",e=e.replace(r[0],"")),r=pe(e);return[].concat(n,[e.replace(/ff_replace_ff/g,t)])}function O(e){var n=this,r=n.getKey(e.key);return l.each(e.resolve,function(t,o){t=Ze(t,r||e.arrayIndex),t.includes("[arrayIndex]")||(n.handleResolve(e,o,t,!0),_(t).forEach(function(r){var a=r.match(/(schema\.data\.|model\.)(\S+)/)||[],s=c(a,3),i=s[1],l=s[2];i&&("schema.data."===i?n.registerResolve(e,o,l,t):"model."===i&&n.registerHandler(l,function(){n.handleResolve(e,o,t)}))}))}),e}function R(e,n){var r=this,t=void 0,o=e.split(" || ");l.find(o,function(e){var o=r.parseExpression(e,n).get();if(!l.isUndefined(o))return t=o,!0});return t}function K(e,n){var r=this,t=e.split(" && "),o=l.reduce(t,function(e,t){var o=r.parseExpression(t,n).get();return l.isUndefined(o)||e.push(o),e},[]);return t.length===o.length?l.last(o):void 0}function U(e,n,r,t){var o=this,a=r.includes(" || ")?o.parseAny(r):r.includes(" && ")?o.parseAll(r):o.parseExpression(r).get();a&&a.cursor?e.loadMore=function(){var e=r.match(/schema\.data\.(.+)/)[1];o.refreshSchema("data:"+e+":"+a.cursor)}:delete e.loadMore;var s=a&&a.data?a.data:a,i="condition"===n?s+"":s;o.parseExpression(n,e).set(i),t||d.forEach(function(r){var t=r.prop,a=r.handler;return t===n&&a(e,o)})}function L(e,n,r,t){var o=this,a=o.getKey(e.key);o.resolveRegister[r]=o.resolveRegister[r]||{};var s=o.resolveRegister[r];s[a]=s[a]||[],s[a].push({field:e,prop:n,exp:t})}function q(e){var n=this;l.each(e.conditionals,function(r,t){var o=function(o,a){e[t]=n.parseCondition(r);var s=n.getFromScopeCache(n.getKey(e.key));"required"===t&&s&&n.scope.$broadcast("schemaFormValidate")};e.conditionals[t].match(/model\.([^\s]+)/g).map(function(e){return e.match(/model\.([^\s]+)/)[1]}).forEach(function(e){n.registerHandler(e,o)}),o()})}function H(e){var r=this;if(e.watch){var t=e.schema;e.watch=l.isArray(e.watch)?e.watch:[e.watch],l.each(e.watch,function(o){if(o.resolution){var a=void 0;l.isString(e.condition)&&(a=/^\(.*\)$/.test(e.condition)?e.condition:"("+e.condition+")"),l.isString(o.condition)&&(a=a?a+" && "+o.condition:o.condition);var s=o.resolution,i=void 0;if(l.isFunction(s))i=function(e,n){a&&!r.parseCondition(a)||s(e,n)};else{var c={};c.date=s.match(/\+ ?(\d+) (days|hours)/),c.date?(c.date={val:c.date[1],units:c.date[2]},s=s.replace(c.date.val,"").trim()):(c.math=s.match(/(\+|\-|\/|\*) ?(\S+)/),c.math&&(c.operator={"+":"add","-":"subtract","*":"multiply","/":"divide"}[c.math[1]],c.adjuster=r.parseExpression(c.math[2]))),s=s.match(/(\S+) ?= ?(\S+)/),i=function(o,i,f,m){var d=a&&Ze(a,f);if(l.isString(d)&&d.includes("[arrayIndex]"))return console.error("arrayIndex could not be repalced from expression '"+d+"'");var u=Ze(s[1],f),p=Ze(s[2],f),h=r.parseExpression(u);if(m!==h.path().key){m=h.path().key;var g=r.parseExpression(p);if(!a||r.parseCondition(d))if(c.date)h.set(moment(g.get()).add(c.date.val,c.date.units).toDate());else if(c.math){c.adjuster=r.parseExpression(Ze(c.math[2],f));var v=g.get(),y=c.adjuster.get(),b=c.math[1],x=n(v+b+y)();if(t=t||e.items&&(e.items[0].schema||e.items[0].items&&e.items[0].items[0].schema),"cn-currency"===e.type){var k=t&&"currency-dollars"===t.format?2:0;x="*"===c.math[1]?l.floor(x,k):"/"===c.math[1]?l.ceil(x,k):l.round(x,k)}r.listeners[m]&&(r.listeners[m].trigger=f),h.set(x||0)}else h.set(g.get())}}}r.registerHandler(e,i,e.updateSchema,o.initialize)}})}}function N(e){var r=this;if(e.startsWith("_")){var t=/^_\.(.*?)\((.*?),[\s(]*(.*?)\)?\s*=>[{\s]*(?:return)?(.*?)\}?\)$/,o=e.match(t),a=c(o,5),s=a[1],i=a[2],f=a[3],m=a[4];return l[s](n(i)(r),W(f,m))}return n(e)(r)}function W(e,r){return function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return n(r)(e.replace(/\s/g,"").split(",").reduce(function(e,n,r){return e[n]=o[r],e},{}))}}function V(e){var n=this,r=n.getKey(e.key);if(!n.updates&&e.updateSchema&&!n.schema.params[r]){var t=n.parseExpression(r,n.model).get();l.isUndefined(t)||(n.schema.params[r]=t)}n.registerHandler(e,null,e.updateSchema)}function Q(e,n,r,t){var o=this;if(l.isObject(e)&&!l.isArray(e)){if(!e.key&&e.items)return void l.each(e.items,function(e){o.registerHandler(e,n,e.updateSchema)});e=e.key}e=o.getKey(e);var a=e.match(/(.*)\[]\.?(.*)/);if(a)return void o.registerArrayHandlers(a[1],a[2],n,r,t);var s=o.parseExpression(e,o.model).get();l.get(o.getSchema(e),"default");if(!o.listeners[e]){var i=angular.copy(s);o.listeners[e]={handlers:[],updateSchema:r,prev:i}}n&&(o.listeners[e].handlers.push(n),t&&n(s,null,e))}function B(e,n,r,t,o){var a=this,s=function(s,i,c){if(i||0===i||!((0|s)<1)){var l,f,m;if(i>s||c){var d=n?e+"["+(i-1)+"]."+n:e+"["+(i-1)+"]";if(a.listeners[d])for(l=0,f=i;l<f;l++)m=n?e+"["+l+"]."+n:e+"["+l+"]",a.deregisterHandlers(m);for(l=0,f=s;l<f;l++)m=n?e+"["+l+"]."+n:e+"["+l+"]",a.registerHandler(m,r,t)}else if(s>(i||0))for(l=0|i,f=s;l<f;l++)m=n?e+"["+l+"]."+n:e+"["+l+"]",a.registerHandler(m,r,t,o)}},i=a.parseExpression(e,a.model).get();l.each(i,function(s,i){var c=n?e+"["+i+"]."+n:e+"["+i+"]";a.registerHandler(c,r,t),o&&r(null,null,c)});var c=e+".length";a.arrayListeners[c]?a.arrayListeners[c].handlers.push(s):a.arrayListeners[c]={handlers:[s],prev:i?i.length:0}}function z(e){var n=this;e=n.getKey(e);var r=e.match(/([^[\]]*)\[]\.?(.*)/);return r?void n.deregisterArrayHandlers(r[1],r[2]):void(n.listeners[e]&&(n.listeners[e].handlers=[]))}function G(e,n){var r=this;r.parseExpression(e,r.model).get().forEach(function(t,o){n?r.deregisterHandlers(e+"["+o+"]."+n):r.deregisterHandlers(e+"["+o+"]")})}function J(){var e=this;e.watching||(e.modelWatch&&e.modelWatch(),e.modelWatch=e.scope.$watch(function(){return e.model},e.onModelWatch.bind(e),!0),e.initSchemaParams(),e.watching=!0,e.firstUpdate=!0)}function X(e,n){var r=this;!r.firstUpdate&&angular.equals(e,n)||(r.firstUpdate=!1,h.cleanModel(r.model),r.prevParams=angular.copy(r.params),l.each(r.arrayListeners,function(e,n){var t=r.parseExpression(n,r.model).get();angular.equals(t,e.prev)||(e.handlers.forEach(function(n){return n(t,e.prev)}),e.prev=angular.copy(t))}),l.each(r.listeners,function(e,n){if(e){var t=r.parseExpression(n,r.model).get(),o=angular.equals(t,[])&&!e.prev;angular.equals(t,e.prev)||o||(e.handlers.forEach(function(r){r(t,e.prev,n,e.trigger)}),e.trigger=null,e.prev=angular.copy(t)),!e.updateSchema||angular.isUndefined(t)||o||null===t?delete r.params[n]:r.params[n]=angular.copy(t)}}),angular.equals(r.params,r.prevParams)||(r.model.id&&!r.updates&&l.isEmpty(r.prevParams)?r.incrementUpdates():l.isFunction(r.refreshSchema)&&r.refreshSchema()))}function Y(){var e=this;l.each(e.listeners,function(n,r){if(n){var t=e.parseExpression(r,e.model).get();n.updateSchema&&!angular.isUndefined(t)&&null!==t&&(e.params[r]=angular.copy(t))}})}function Z(e){return e.replace(/\[\d+]/g,"[]")}function ee(){var e=this;e.events.push(e.scope.$on("schemaFormPropagateFormController",function(n,r){var t=r.form;t.key||(t.cacheKey=t.type+"-"+l.uniqueId());var o=t.cacheKey||e.getKey(t.key);if(l.isNumber(r.arrayIndex)){var a=Z(o),s=r.arrayIndex;t.arrayIndex=s,e.getArrayCopy(a,s)||e.processFieldProps(t,!0),t.condition||(t.condition="true"),e.addArrayCopy(r,a,s),r.$emit("flexFormArrayCopyAdded",a)}else e.addToScopeCache(r,o)})),e.events.push(e.scope.$on("schemaFormDeleteScope",function(n,r,t){var o=e.getKey(r.form.key),a=e.listeners[o];if(a&&(a.handlers=[]),e.deleteArrayCopiesFor(o,t),r.form.link){var s=e.parseExpression(r.form.link,e.model).get();s.splice(t,1),e.deleteArrayCopiesFor(r.form.link,t)}}))}function ne(e,n,r){var t=this;(!r||r<0)&&(r=0),t.arrayCopies[n]||(t.arrayCopies[n]=[]),t.arrayCopies[n][r]=e}function re(e,n){var r=this,t=r.arrayCopies[e];return t&&t[n]}function te(e){var n=this;return l.pluck(n.getArrayScopes(e),"form")}function oe(e){var n=this;return e+="[]",l.filter(n.arrayCopies,function(n,r){return r.includes(e)})}function ae(e,n){var r=this,t=r.getArrayCopiesFor(e);l.each(t,function(e){return e&&e.splice(n,1)})}function se(e){var n=this;return n.arrayCopies[e]}function ie(e,n){var r=this;return r.scopeCache[n]&&console.warn("caching duplicate scope for",n),r.scopeCache[n]=e}function ce(e){var n=this;return n.scopeCache[e]}function le(e,n){var r=this;n=n||r.getKey(e.key),r.getFromFormCache(n)||(r.formCache[n]=e)}function fe(e){var n=this;return n.formCache[e]}function me(e,n){var r=this;e&&(r.dataCache[e]=n)}function de(e){var n=this;return n.dataCache[e]}function ue(e){return e.match(/\[(-?\d+|".*"|'.*')]/)}function pe(e){for(var n=ue(e)||[],r=c(n,1),t=r[0],o=[];t;){o.push(t),e=e.replace(t,"ff_r"+(o.length-1)+"_ff");var a=ue(e)||[],s=c(a,1);t=s[0]}var i=e.match(/\[([^[\]]+)]([^[\]]*)/);return i&&o.length?i.map(function(e){for(var n=e.match(/ff_r(\d+)_ff/)||[],r=c(n,2),t=r[0],a=r[1];t;){e=e.replace(t,o[a]);var s=e.match(/ff_r(\d+)_ff/)||[],i=c(s,2);t=i[0],a=i[1]}return e}):i}function he(e,n){for(var r=this,t=pe(e)||[],o=c(t,2),a=o[1];a;){var s=r.parseExpression(a,n).get(),i=l.isUndefined(s)?"":l.isString(s)?'"'+s+'"':s;e=e.replace("["+a+"]","["+i+"]");var f=pe(e)||[],m=c(f,2);a=m[1]}return e}function ge(e,n){var r=this;if(!l.isString(e)&&!l.isArray(e))return{get:function(){return e}};if(/^(null|false|true|undefined|'[^\']*'|"[^\"]*"|-?[0-9.]+|\[]|\{})$/.test(e))return{get:function(){if(!e)return e;var n=e.match(/"([^\"]*)"/)||e.match(/'([^\']*)'/);if(n)return n[1];switch(e){case"null":return null;case"false":return!1;case"true":return!0;case"undefined":return;case"[]":return[];case"{}":return{};default:return parseFloat(e)}}};e=r.getKey(e);var t=e.match(/^(model\.)?(\S+)$/),o={get:function(){for(var t=r.resolveNestedExpressions(e,n),o=f.parse(t),a=n||r;a&&o.length>1;)a=a[o.shift()];return a&&a[o[0]]},getAssignable:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.noConstruction,a=r.resolveNestedExpressions(e,n),s=f.parse(a),i=[],c=n||r;c&&s.length>1;){var l=s.shift();if(i.push(l),!c[l]){if(o)return null;/^\d?$/.test(s[0])?c[l]=[]:c[l]={}}c=c[l]}return{obj:c,key:s[0],path:r.getKey(i),fullPath:r.getKey(i.concat(s.slice(0,1)))}},set:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.resolveNestedExpressions(e,n);f.parse(a);if("remove"===t){var s=this.getAssignable({noConstruction:!0})||{},i=s.obj,c=s.key;delete r.defaults[a.replace("model.","")],i&&delete i[c]}else{var l=this.getAssignable(),m=l.obj,d=l.key;m[d]=t}return o.silent&&(r.silenceListeners(a,n),r.skipDefaults(a)),t},path:function(){return{exp:e,depth:n,key:t[2]}}};return o}function ve(e,n){var r=this;l.each(r.listeners,function(t,o){0===o.indexOf(e)&&(t.prev=angular.copy(r.parseExpression(o,n).get()))})}function ye(e){var n=this,r=e.match(/\[\d*\]/)?en(e):null,t=Z(e),o=l.filter(l.keys(n.formCache),function(e){return e.startsWith(t)}),a=[];l.each(o,function(e){var t=n.setArrayIndex(e,r),o=n.parseExpression(t,n.model).get();if(l.isArray(o))for(var s=l.filter(l.keys(n.formCache),function(n){return n.startsWith(e)}),i=function(e){l.each(s,function(t){a.push(t);var o=n.setArrayIndex(t,[r,e]);n.skipDefault[o]=!0})},c=0;c<o.length;c++)i(c);else a.includes(e)||(n.skipDefault[t]=!0)})}function be(e){var n=this,r=n.getKey(e.key);e.sortOptions={update:function(e,t){var o=n.arrayListeners[r+".length"];o.handlers.forEach(function(e){e(o.prev,o.prev,!0)})}},n.processSection(e)}function xe(e,n){var r=this;n||l.each(e.items,r.processField.bind(r))}function ke(e){var n=this;e.type="section",e.htmlClass="row";var r=12/l.reject(e.items,"hidden").length;l.each(e.items,function(t,o){n.processField(t),e.items[o]={type:"section",htmlClass:"col-sm-"+r,items:[t]}})}function we(e){e.currencyFormat={"currency-dollars":"dollars","currency-microcents":"microcents",currency:"cents"}[e.schema.format],e.type="cn-currency"}function Fe(e){e.type="cn-number"}function $e(e){e.type="cn-percentage"}function Ce(e){e.type="cn-url"}function Se(e){var n=this;e.type="cn-reusable",e.view=e.view||"new",e.items.forEach(n.processField.bind(n)),e.items=[{type:"section",items:e.items,condition:"!model."+n.getKey(e.key)+".id"}]}function Ee(e){var n=this;e.type="cn-facebookvideo",e.resolve||(e.resolve={},l.each(e.data,function(n,r){return e.resolve["data."+r]=n})),n.processResolve(e)}function Te(e){var n=this;e.type="cn-creativeimage",e.resolve||(e.resolve={},l.each(e.data,function(n,r){return e.resolve["data."+r]=n})),n.processResolve(e)}function je(e){var n=this;e.type="cn-mediaupload",e.resolve||(e.resolve={},l.each(e.data,function(n,r){return e.resolve["data."+r]=n})),n.processResolve(e)}function Me(e){e.type="cn-csvupload"}function Pe(e){e.type="cn-radios"}function Ae(e){e.type="cn-radiobuttons",e.fullWidth&&(e.btnClass="col-sm-"+l.divide(12,e.titleMap.length))}function De(e){e.type="cn-datetimepicker","time-minutes"===e.schema.format&&(e.maxView="hour",e.iconClass="fa fa-clock-o",e.modelFormatter=function(e){if(e){var n=moment(e);return l.add(l.multiply(n.hours(),60),n.minutes())}},e.modelParser=function(e){if(e){var n=parseInt(e),r=l.floor(n/60),t=n%60;return moment().startOf("day").add("hours",r).add("minutes",t)}},e.viewFormatter=function(n){if(n)return e.modelParser(n).format(e.dateFormat)},e.viewParser=function(e){if(e){var n=e.match(/^(\d{1,2}):?(\d{1,2})? (a|p)/);if(n){var r=l.add("12"===n[1]?0:n[1],"a"===n[3]?0:12),t=n[2]||"00";return 1===t.length&&(t+="0"),l.add(l.multiply(r,60),t)}}})}function Ie(e){var n="array"===e.getSchemaType();return e.valueProperty||"object"!==(n?e.schema.items.type:e.schema.type)&&"value"}function _e(e,n,r){r=r||e.getTitleMap();var t=Ie(e),o=t?l.identity:l.partialRight(l.omit,"$$hashKey"),a=t?l.compose(l.partial(l.find,r),l.partial(l.set,{},t),o):l.compose(l.partial(l.find,r),o);if("array"===e.getSchemaType()){if(!n||!l.isArray(n))return;return n.map(a).filter(function(e){return void 0!==e})}return a(n)}function Oe(e){e.startEmpty=!0,e.type="cn-schedule"}function Re(n){var r=this,t=n.schema;if((n.titleMapResolve||n.titleMap)&&(n.getTitleMap=function(){var e=n.titleMapResolve+"["+n.arrayIndex+"]";return n.titleMap||r.schema.data[n.titleMapResolve]||r.schema.data[e]},n.onInit=function(e,t,o,a){var s=r.parseExpression(t.key,r.model);if("tag-init"===o){var i=_e(n,s.get());void 0!==i&&a(i)}}),n.titleMapQuery){var o=n.titleMapQuery.params,a=l.keys(o);n.showClearAll=!0,n.showClearCache=!!n.titleMapQuery.params.refreshData,n.singleQuery=0===n.minLookup,n.titleQuery=function(t,s){var i=s.refreshData,c=l(a).reduce(function(e,a){if("q"===a)e[o[a]]=t;else if("refreshData"===a)i&&(e[o[a]]=!0);else{var s=r.replaceArrayIndex(o[a],n.arrayIndex),c=null,l=s.split("||"),f=!0,m=!1,d=void 0;try{for(var u,p=l[Symbol.iterator]();!(f=(u=p.next()).done);f=!0){var h=u.value;if(c=r.parseExpression(h.trim()).get())break}}catch(e){m=!0,d=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw d}}e[a]=c}return e},{});return e.get({url:n.titleMapQuery.url,params:c})},l.isNumber(n.minLookup)||(n.minLookup=a.length?3:0),l.has(n,"skipFiltering")||(n.skipFiltering=!!n.minLookup),n.onInit=function(e,n,r,t){"tag-init"===r&&t(e)}}if(l.isNumber(n.minLookup)||(n.minLookup=0),t.items){var s=[];l.each(t.items.properties,function(e,n){angular.isDefined(e.default)&&s.push({key:n,default:e.default})}),s.length&&(n.onAdd=function(e,n,r){e.value&&"tag-added"===r&&l.each(s,function(n){e.value[n.key]||(e.value[n.key]=n.default)})})}n.displayFormat&&(n.itemFormatter=r.processTemplate(n.displayFormat)),n.type.includes("cn-autocomplete")||(n.items?(n.detailedList=!0,"component"!==n.items[0].type&&(n.items.length>1&&(l.each(n.items,function(e){return e.destroyStrategy="retain"}),n.items=[{type:"component",items:n.items}]),r.processFieldset(n)),n.type="cn-autocomplete-detailed",n.destroyStrategy="retain"):(n.selectionStyle||(n.selectionStyle="tags"===n.key?"tags":"array"===n.getSchemaType()&&1!==n.schema.maxItems?"list":"select"),n.type="cn-autocomplete"),n.titleMapResolve&&r.scope.$on("cnFlexFormDiff:data",function(e,t){if(t[n.titleMapResolve]){var o=r.parseExpression(n.key,r.model),a=o.get();if(void 0!==a){var s=_e(n,a,t[n.titleMapResolve]);(void 0===s||l.isArray(s)&&l.isEmpty(s))&&o.set()}}}),r.registerHandler(n.key,function(e){var t=r.formCtrl&&r.formCtrl[r.getKey(n.key)];t&&t.$setDirty&&t.$setDirty()},n.updateSchema))}function Ke(e){e.type="cn-toggle"}function Ue(e){e.htmlClass="help-block"}function Le(e){var n=this;e.type="cn-display",e.getDisplay=n.processTemplate(e.displayFormat,!0)}function qe(e,n){var r=this,t=u;return function(o,a){return n&&(angular.isDefined(a)&&(o=l.map(o,function(e){return"arrayIndex"===e?a:e})),o=r.parseExpression(o,r.model).get()),t(e)(o)}}function He(e){var n=this;e.type="cn-table",e.items.forEach(function(r){for(var t=0;t<e.columns.length;t++)l.extend(r.items[t],e.columns[t]),n.processField(r.items[t])})}function Ne(e){var n=this,r=null,t=!0,o=!1,a=void 0;try{for(var s,i=e.items[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var c=s.value;if(c.selectField?r=c:c.items&&(r=l.find(c.items,"selectField")),r)break}}catch(e){o=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw a}}var m=n.parseExpression(e.link,n.model);m.get()||m.set([]),l.each(e.items,function(r){if(r.selectField!==!0){var t=l.isArray(r.key)?r.key:f.parse(r.key),o=l.last(t);r.showFeature=function(r){var t=n.parseExpression("model."+e.link+"["+r+"].features").get(),a=t&&t.includes(o);return a};var a="form.showFeature(arrayIndex)";r.condition=r.condition?"("+r.condition+") && "+a:a}});var d=n.parseExpression(n.getKey(e.key),n.model).get(),u=n.getKey(r.key);l.each(d,function(e,r){var t=n.setArrayIndex(u,r),o=n.parseExpression(t,n.model);o.get()||o.set([])})}function We(e){var n=this;n.refreshSchema=l.debounce(function(t){var o=i({},r.getStateParams(n.getParamOverrides()),n.params),a=l.omit(h.diff(n.schema.params,o,!0),"updates"),s=void 0;l.isEmpty(a)&&!t||(t?o.updateSchema=t:(s=l.keys(a),s.length>1&&(a=l.omit(a,l.isNull),s=l.keys(a)),o.updateSchema=l.first(s)),o.updateSchema||(a=h.diff(o,l.omit(n.schema.params,["updateSchema","updates"])),s=l.keys(a),o.updateSchema=l.first(s)),e(o).then(function(e){n.processUpdatedSchema(e)}))},100),n.refreshData=l.debounce(function(){e(l.extend(n.schema.params,{updateSchema:"refreshData"})).then(function(e){n.processUpdatedSchema(e)})},100),n.events.push(n.scope.$on("ffRefreshData",n.refreshData))}function Ve(e){var n=this;if(e.diff){n.incrementUpdates(),n.schema.params=e.params,r.onProcessDiff&&r.onProcessDiff(e),e.diff.data&&(n.scope.$broadcast("cnFlexFormDiff:data",e.diff.data),l.each(e.diff.data,function(e,r){e&&e.data&&!l.isEmpty(n.schema.data[r].data)&&!e.reset&&(e.data=n.schema.data[r].data.concat(e.data)),n.schema.data[r]=e,n.resolveRegister[r]&&l.each(n.resolveRegister[r],function(e){e.forEach(function(e){n.handleResolve(e.field,e.prop,e.exp)})})}));var a=[];e.diff.schema&&(n.scope.$broadcast("cnFlexFormDiff:schema",e.diff.schema),l.each(e.diff.schema,function(e,r){ze(e,r,a);var s=l.filter(a,function(e){return l.startsWith(e,r)});l.each(s,function(r){var a=l.compact([n.getFromFormCache(r)].concat(o(n.getArrayCopies(r)||[])));l.each(a,function(o){var a=o.schema,s=n.getSchema(r,t({},e.key,e));a.readonly&&!s.readonly&&(o.readonly=!1)})}),n.schema.schema.properties[r]=e})),e.diff.form&&(n.scope.$broadcast("cnFlexFormDiff:form",e.diff.form),l.each(e.diff.form,function(e,r){a.includes(r)||a.push(r),l.each(n.getFormsToProcess(r),function(r){return r&&n.reprocessField(r,e)})})),a.length&&l.each(a,function(e){l.each(n.getFormsToProcess(e),function(e){return e&&n.processField(e)})}),e.diff.updates&&l.each(e.diff.updates,function(e,r){var t=Ge(r);n.parseStringKey(n.model,t,e)}),n.broadcastErrors()}else n.resetUpdates(),n.updateSchema(e)}function Qe(e){var n=this,r=e.match(/\[(\d)+]/)||[],t=c(r,2),a=t[1],s=n.getArrayCopies(e.replace(/\[\d+]/g,"[]"));if(l.isUndefined(a)){var i=n.getFromFormCache(e);return[i].concat(o(s))}return[s[a]]}function Be(e,n,r){var t=this,o=t.getKey(e.key);!n.condition&&e.condition&&(n.condition="true");var a=!r&&e.condition!==n.condition;l.extend(e,l.omit(n,"items","key")),e._ogKeys.forEach(function(r){n[r]||delete e[r]}),e._ogKeys=j(n),t.scope.$broadcast("cnFlexFormReprocessField",o),a&&e.redraw&&(console.log("TODO: see if this can be removed"),e.redraw())}function ze(e,n,r){r.push(n),e.properties&&l.each(e.properties,function(e,t){ze(e,n+"."+t,r)}),e.items&&e.items.properties&&l.each(e.properties,function(e,t){ze(e,n+"[]."+t,r)})}function Ge(e){return(l.isString(e)?f.parse(e):e).join(".")}function Je(e,n,r){var t=n.split(".");1===t.length&&(e[n]=r);for(var o=0;o<t.length;o++){var a=t[o];if(o===t.length-1)e[a]=r;else{if(!e[a]){var s=t[o+1];isNaN(s)?e[a]={}:e[a]=[]}e=e[a]}}return e}function Xe(e){return{key:Ge(e.key),message:e.error}}function Ye(){var e=this;p(function(){l.get(e,"errors")&&e.errors.forEach(function(n){e.scope.$broadcast("schemaForm.error."+n.key,"serverValidation",n.message)})},1)}function Ze(e,n){for(;e.includes("arrayIndex");){if(l.isNumber(n))return e.replace(/arrayIndex/g,n);var r=/([^.[]*)\[arrayIndex\]/.exec(e),t=new RegExp(r[1]+"\\[(-?\\d+)\\]"),o=t.exec(n);if(!o)return e;e=e.replace(new RegExp(r[0].replace(/(\[|\])/g,"\\$1"),"g"),o[0])}return e}function en(e){return l.isObject(e)?l.find(e.key,function(e){return l.isNumber(e)}):/\[(\d*)\]/.exec(e)[1]}function nn(e,n,r){var t=this,o=void 0;for(l.isArray(n)||(n=[n]),o=l.isString(e)?f.parse(e):l.clone(e);n.length&&o.indexOf("")>-1;){var a=o.indexOf("");o[a]=n.shift()}return r?o:t.getKey(o)}function rn(){var e=this;l.each(e.events,function(e){e()})}function tn(){var e=this;e.updates=0,e.params.updates=e.updates}function on(){var e=this;++e.updates,e.params.updates=e.updates}var an=[],sn={compile:w,addArrayCopy:ne,addToDataCache:me,addToFormCache:le,addToScopeCache:ie,broadcastErrors:Ye,buildError:Xe,cleanup:rn,deleteArrayCopiesFor:ae,deregisterHandlers:z,deregisterArrayHandlers:G,getArrayCopy:re,getArrayCopies:te,getArrayCopiesFor:oe,getArrayScopes:se,getDefault:I,getFromDataCache:de,getFromFormCache:fe,getFromScopeCache:ce,getFormsToProcess:Qe,getKey:A,getSchema:D,getWatchables:_,handleResolve:U,incrementUpdates:on,initArrayCopyWatch:ee,initModelWatch:J,initSchemaParams:Y,isCompiled:F,onModelWatch:X,parseAll:K,parseAny:R,parseCondition:N,parseExpression:ge,processArray:be,processCreativeImage:Te,processDefault:S,processDisplay:Le,processFacebookVideo:Ee,processField:M,processFieldset:E,processFieldProps:P,processFieldType:T,processFieldUpdatedSchema:V,processFieldWatch:H,processComponent:ke,processConditional:q,processCurrency:we,processNumber:Fe,processPercentage:$e,processUrl:Ce,processDate:De,processHelp:Ue,processRadios:Pe,processRadiobuttons:Ae,processReusable:Se,processSchema:C,processSelectDisplay:Ne,processResolve:O,processSection:xe,processSelect:Re,processSchedule:Oe,processTable:He,processTemplate:qe,processToggle:Ke,processUpdatedSchema:Ve,processMediaUpload:je,processCsvUpload:Me,registerArrayHandlers:B,registerHandler:Q,registerResolve:L,replaceArrayIndex:Ze,reprocessField:Be,resetUpdates:tn,resolveNestedExpressions:he,setArrayIndex:nn,setupConfig:$,setupSchemaRefresh:We,silenceListeners:ve,skipDefaults:ye,parseStringKey:Je};return l.extend(k.prototype,sn),l.extend(x,sn,{getService:y,destroyService:b}),x}a.$inject=["schemaFormDecoratorsProvider","cnFlexFormTypesProvider"],s.$inject=["Api","$parse","cnFlexFormConfig","cnFlexFormTypes","sfPath","$interpolate","$timeout","cnUtil","$stateParams","EVENTS"],Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c=function(){function e(e,n){var r=[],t=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(e){o=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw a}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="undefined"!=typeof window&&window._||r(6),f="undefined"!=typeof window&&window.ObjectPath||r(7),m={fieldset:"processFieldset","cn-radios":"processRadios","cn-radiobuttons":"processRadiobuttons","cn-autocomplete":"processSelect","cn-datetimepicker":"processDate",help:"processHelp","cn-display":"processDisplay","cn-number":"processNumber","cn-currency":"processCurrency","cn-percentage":"processPercentage","cn-url":"processUrl","cn-mediaupload":"processMediaUpload","cn-creativeimage":"processCreativeImage","cn-facebookvideo":"processFacebookVideo","cn-csvupload":"processCsvUpload","cn-reusable":"processReusable","cn-toggle":"processToggle","cn-table":"processTable",component:"processComponent",section:"processSection",tabarray:"processSection",array:"processArray","cn-schedule":"processSchedule"},d=[{prop:"default",handler:function(e,n){return n.processDefault(e)}},{prop:"resolve",handler:function(e,n,r){return!r&&n.processResolve(e)}},{prop:"selectDisplay",handler:function(e,n){return n.processSelectDisplay(e)}},{prop:"schema",handler:function(e,n){return l.isUndefined(e.default)&&!l.isUndefined(e.schema.default)&&n.processDefault(e)}},{prop:"watch",handler:function(e,n,r){return!r&&e.watch&&n.processFieldWatch(e)}},{prop:"type",handler:function(e,n,r){return n.processFieldType(e,r)}},{prop:"conditionals",handler:function(e,n){return n.processConditional(e)}},{prop:"updateSchema",handler:function(e,n,r){return!r&&n.processFieldUpdatedSchema(e)}}];n.default=a},function(n,r){n.exports=e},function(e,r){e.exports=n},function(e,n){"use strict";function r(e){if(i[e])return i[e];var n={};return i[e]=n,n}function t(e,n,t){var o=r(e);if(o[n])return o[n];var a=t.defer();return o[n]=a,a}function o(){function e(e,r){r.resolve={parent:n},s[e]=r}function n(e,n){"ngInject";return t(e.modal,e.modalId,n).promise.then(function(e){var n=e.parent;return n})}return n.$inject=["$stateParams","$q"],{addMapping:e,$get:a}}function a(e,n){"ngInject";function r(e,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.scope;i&&(i.options=i.options||{},i.options.destroyStrategy="retain",s[e].scope=i);var c=t(e,r,n);return c.resolve({parent:o,options:a}),c.promise}function o(r){var o=n.defer();return t(e.modal,e.modalId,n).promise.then(function(e){var n=e.parent,t=e.options;return o.resolve({state:s[r],options:t}),n}),o.promise}function a(e){s[e]=null,i[e]=null}return{getMapping:o,resolveMapping:r,removeMapping:a}}a.$inject=["$stateParams","$q"],Object.defineProperty(n,"__esModule",{value:!0});var s={},i={};n.default=o},function(e,n){"use strict";function r(e,n,r,t,o){"ngInject";function a(){}function s(){e.open(l).then(function(e){var n=e.modal,o=e.options,a=o.onDismiss;o.onAfterDismiss;l.modal=n,l.modal.result.finally(i),a&&l.modal.result.catch(function(){return a(t.restParams)}),l.dismissEvent=r.$on("$stateChangeStart",c)})}function i(){n.transition||n.go("^")}function c(){l.dismissEvent(),l.modal.opened.then(function(){return l.modal.dismiss()})}o.__tag=a();var l=this;s()}function t(e,n,r){"ngInject";function t(){return e.getMapping(r.modal).then(function(e){var r=e.state,t=e.options;return{modal:n.open(r),options:t}})}return{open:t}}r.$inject=["FlexFormModal","$state","$rootScope","$stateParams","$scope"],t.$inject=["cnFlexFormModalLoaderService","$uibModal","$stateParams"],Object.defineProperty(n,"__esModule",{value:!0}),n.FlexFormModalLoader=r,n.FlexFormModal=t},function(e,n,r){(function(e){"use strict";function r(){return{restrict:"E",template:'\n      <div ng-if="vm.showForm()">\n        <!-- we process defaults ourselves, hence setSchemaDefaults: false -->\n        <ng-form\n          class="clearfix"\n          name="{{vm.formName}}"\n          sf-options="{ setSchemaDefaults: false }"\n          sf-schema="vm.config.schema.schema"\n          sf-form="vm.form"\n          sf-model="vm.model">\n        </ng-form>\n        <!-- debug panel to display model -->\n        <section ng-if="vm.debug">\n          <json-explorer json-data="vm.model || \'...model not loaded yet\'"/>\n        </section>\n      </div>\n    ',scope:{config:"=ffConfig",model:"=ffModel",formIndex:"=ffFormIndex",formName:"=ffFormName",delayForm:"=ffDelayForm",cleanupEvent:"=ffCleanupEvent"},controller:t,controllerAs:"vm",bindToController:!0}}function t(e,n,r){"ngInject";function t(){}function o(){angular.isNumber(l.formIndex)?l.form=l.config.schema.forms[l.formIndex].form:l.form=l.config.schema.form,r.search().debug&&(l.debug=!0)}function a(r,t){l.form&&(l.service?l.service.compile(l.config.schema,l.model,l.config):l.service=e(l.config.schema,l.model,{getScope:l.config.getScope||function(){return n},formCtrl:l.config.formCtrl,getSchema:l.config.getSchema,updateSchema:i}))}function s(){return!l.delayForm&&l.service&&l.service.isCompiled()}function i(e){l.config.schema=e,l.activate()}function c(){_.each(l.events,function(e){e()}),e.destroyService(l.service)}n.__tag=new t;var l=this;l.service=void 0,l.events=[],l.activate=o,l.cleanup=c,l.process=a,l.showForm=s,l.events.push(n.$watch(function(){return l.config.schema},l.process)),l.activate(),n.$on(l.cleanupEvent||"$destroy",l.cleanup),n.refreshAdbook=function(){l.model.refreshAdbook=!l.model.refreshAdbook}}t.$inject=["cnFlexFormService","$scope","$location"],Object.defineProperty(n,"__esModule",{value:!0}),n.default=r}).call(n,r(11))},function(e,n){function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(n){try{return f.call(null,e,0)}catch(n){return f.call(this,e,0)}}}function a(e){if(m===clearTimeout)return clearTimeout(e);if((m===t||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(e);try{return m(e)}catch(n){try{return m.call(null,e)}catch(n){return m.call(this,e)}}}function s(){h&&u&&(h=!1,u.length?p=u.concat(p):g=-1,p.length&&i())}function i(){if(!h){var e=o(s);h=!0;for(var n=p.length;n;){for(u=p,p=[];++g<n;)u&&u[g].run();g=-1,n=p.length}u=null,h=!1,a(e)}}function c(e,n){this.fun=e,this.array=n}function l(){}var f,m,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{m="function"==typeof clearTimeout?clearTimeout:t}catch(e){m=t}}();var u,p=[],h=!1,g=-1;d.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new c(e,n)),1!==p.length||h||o(i)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,n){"use strict";function r(){return{restrict:"E",scope:{config:"=ffHeaderConfig",submit:"&ffSubmit",loadOffscreen:"&ffLoadOffscreen"},controller:t,bindToController:!0,controllerAs:"vm",template:'\n        <div class="col-md-6">\n          <h5 ng-if="vm.title.lead">{{::vm.title.lead}}</h5>\n          <h1>\n            <i ng-show="vm.title.icon" class="{{vm.title.icon}}"/>\n            {{vm.title.main}}\n          </h1>\n          <h5 ng-if="vm.title.sub">{{::vm.title.sub}}</h5>\n        </div>\n        <div class="{{vm.buttonContainerClass || \'page-action-btns\'}}">\n          <div class="btn-options"\n               ng-mouseover="vm.loadOffscreen()">\n            <a class="btn btn-{{vm.returnStyle ? vm.returnStyle : \'default-dark\'"\n               ng-if="vm.returnState"\n               ui-sref="{{vm.returnState}}">\n              {{vm.returnText || \'Cancel\'}}\n            </a>\n            <a class="btn btn-{{vm.closeButton.style ? vm.closeButton.style : \'default-dark\'}}"\n               ng-if="vm.closeButton"\n               ng-click="vm.closeButton.handler()">\n               Cancel\n            </a>\n            <span ng-repeat="button in vm.actions">\n              <span ng-class="{\'btn-group\': button.options}">\n                <button class="btn {{button.style ? \'btn-\'+button.style : ($index === vm.actions.length - 1 ? \'btn-primary\' : \'btn-default-dark\')}}"\n                   ng-disabled="vm.isDisabled(button)"\n                   ng-click="vm.isDisabled(button) || vm.submit({handler: button.handler})"\n                   uib-tooltip="{{button.helptext}}"\n                   uib-tooltip-placement="bottom"\n                   ng-bind-html="button.text || \'Save\'">\n                </button>\n                <button class="btn {{button.style ? \'btn-\'+button.style : ($index === vm.actions.length - 1 ? \'btn-primary\' : \'btn-default-dark\')}} dropdown-toggle"\n                        ng-disabled="vm.isDisabled(button)"\n                        ng-show="button.options"\n                        data-toggle="dropdown">\n                  <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu" ng-if="button.options">\n                  <li ng-repeat="option in button.options"\n                      ng-disabled="vm.isDisabled(option)">\n                    <button ng-click="vm.submit({handler: option.handler})"\n                       ng-bind-html="option.text">\n                    </button>\n                  </li>\n                </ul>\n              </span>\n            </span>\n          </div>\n          <p class="data-updated-at text-right"\n             id="data-updated-at"\n             ng-hide="vm.config.noData">\n            <a ng-click="vm.updateData()">Update Data</a>\n          </p>\n        </div>'
}}function t(e){"ngInject";function n(){}function r(){s.title=s.config.title}function t(){var e=s.config.actionConfig||{};s.returnState=e.returnState,s.returnStyle=e.returnStyle,s.returnText=e.returnText,s.closeButton=e.closeButton,s.actions=e.actions}function o(){e.$parent.$parent.$broadcast("ffRefreshData")}function a(e){return!!s.config.isDisabled&&s.config.isDisabled(e)}e.__tag=new n;var s=this;s.updateData=o,s.isDisabled=a,e.$watch("vm.config.title",r,!0),e.$watch("vm.config.actionConfig",t,!0)}t.$inject=["$scope"],Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},function(e,n){"use strict";function r(){return{restrict:"A",scope:{form:"=ffValidate"},require:"ngModel",link:t}}function t(e,n,r,t){function o(){}e.__tag=new o,e.form&&e.form.required&&e.$watch(function(){return t.$viewValue},function(e){t.$setValidity("schemaForm",!0),t.$setValidity("tv4-302",e)})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r}])});
//# sourceMappingURL=all.min.js.map